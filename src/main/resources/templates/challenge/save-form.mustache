{{> layout/header}}
<div class="container d-flex mt-5">
    {{> layout/side}}
    <div class="justify-content-center mx-2 pb-4 w-100">
        <div class="border border-tertiary p-5 ">
            <h1 class="d-inline-flex">챌린지 등록하기</h1>
            <hr>
            <form action="/admin/challenges/save" method="post" enctype="multipart/form-data">

                <div class="px-5 mt-5">
                    <!-- 이미지 업로드 시작 -->
                    <div class="form-group form-floating m-3 mx-auto">
                        <div class="px-5 mt-5">
                            <!-- 이미지 업로드 시작 -->
                            <div class="upload d-flex justify-content-center mb-5 flex-column align-items-center">
                                <div class="d-flex justify-content-center align-items-center"
                                     style="width: 500px; height: 400px; border: 1px solid #E6E6E6; color: #E6E6E6;"
                                     id="backgroundImgFile2">
                                    <b>사진을 등록해 주세요.</b>
                                </div>
                                <input type="file" id="backgroundImgFile" name="backgroundImgFile"
                                       class="real-upload mx-auto d-block mt-2 w-50 h-50" accept="image/*" required
                                       multiple>
                            </div>
                            <!-- 이미지 업로드 끝 -->
                        </div>
                    </div>
                    <script>
                        $(document).ready(function () {
                            $('#backgroundImgFile').change(function (event) {
                                if (this.files && this.files[0]) {
                                    var reader = new FileReader();
                                    reader.onload = function (e) {
                                        $('#backgroundImgFile2').html('<img src="' + e.target.result + '" style="width: 80%; height: 80%"">');
                                    };
                                    reader.readAsDataURL(this.files[0]);
                                    let fileName = this.files[0].name; // 'this'를 사용해서 파일 이름을 가져옵니다.
                                    console.log(fileName);
                                }
                            });
                        });
                    </script>
                    <!-- 이미지 업로드 끝 -->
                    <!-- 이미지 업로드 시작 -->
                    <div class="form-group form-floating m-3 mx-auto">
                        <div class="px-5 mt-5">
                            <!-- 이미지 업로드 시작 -->
                            <div class="upload d-flex justify-content-center mb-5 flex-column align-items-center">
                                <div class="d-flex justify-content-center align-items-center"
                                     style="width: 200px; height: 150px; border: 1px solid #E6E6E6; color: #E6E6E6;"
                                     id="badgeImgFile2">
                                    <b>뱃지를 등록해 주세요.</b>
                                </div>
                                <input type="file" id="badgeImgFile" name="badgeImgFile"
                                       class="real-upload mx-auto d-block mt-2 w-50 h-50" accept="image/*" required
                                       multiple>
                            </div>
                            <!-- 이미지 업로드 끝 -->
                        </div>
                    </div>

                    <script>
                        $(document).ready(function () {
                            $('#badgeImgFile').change(function (event) {
                                if (this.files && this.files[0]) {
                                    var reader = new FileReader();
                                    reader.onload = function (e) {
                                        $('#badgeImgFile2').html('<img src="' + e.target.result + '" style="width: 80%; height: 80%">');
                                    };
                                    reader.readAsDataURL(this.files[0]);
                                }
                            });
                        });
                    </script>
                    <!-- 이미지 업로드 끝 -->
                </div>
                <label for="name"><b>챌린지 명</b></label>
                <input value="챌린지 명" class="form-control" type="text" name="challengeName" id="challengeName" required>
                <div class="mt-4">
                    <label for="meter"><b>부 제목</b></label>
                    <input value="부 제목" class="form-control" type="text" name="subTitle" id="subTitle" required>
                </div>
                <div class="mt-4">
                    <label for="location"><b>걸어야할 걸음 수(정수)</b></label>
                    <input value="10" class="form-control" type="text" name="walking" id="walking" required>
                </div>
                <div class="mt-4">
                    <label for="location"><b>총 거리</b></label>
                    <input value="10km" class="form-control" type="text" name="distance" id="distance" required>
                </div>
                <div class="mt-4">
                    <label for="location"><b>보상 코인(정수)</b></label>
                    <input value="10" class="form-control" type="text" name="coin" id="coin" required>
                </div>
                <div class="mt-4">
                    <label for="location"><b>챌린지 기간(정수)</b></label>
                    <input value="30" class="form-control" type="text" name="period" id="period" required>
                </div>
                <div class="mt-4">
                    <label for="content"><b>챌린지 내용</b></label>
                    <div class="border border-tertiary p-3 d-inline-flex me-3 mb-3 w-100">
                        <input value="챌린지 내용" class="form-control border-0" id="content" type="text" name="content"
                               required>
                    </div>
                </div>
                <div class="d-flex justify-content-center">
                    <button type="submit" class="btn btn-outline-danger mb-3"
                            style="width: 100%">등록하기
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
