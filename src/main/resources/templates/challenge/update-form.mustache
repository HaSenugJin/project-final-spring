{{> layout/header}}
<div class="container mt-5 mb-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="border border-tertiary p-5">
                <h1 class="text-center mb-4">챌린지 수정하기</h1>
                <hr>
                <form action="/admin/challenges/{{challenge.id}}/update" method="post" enctype="multipart/form-data">
                    <div>
                        <!-- 이미지 업로드 시작 -->
                        <div style="display: flex; justify-content: center; align-items: center">
                            <!-- 백그라운드 이미지 업로드 -->
                            <div class="upload d-flex flex-column align-items-center col-6">
                                <div class="position-relative">
                                    <div class="box-container">
                                        <div class="d-flex justify-content-center align-items-center"
                                             style="width: 300px; height: 300px; border: 1px solid #E6E6E6; color: #E6E6E6;"
                                             id="backgroundImgFile2">
                                            <b>사진을 등록해 주세요.</b>
                                        </div>
                                    </div>
                                </div>
                                <input type="file" id="backgroundImgFile" name="backgroundImgFile"
                                       class="real-upload mx-auto d-block mt-2" accept="image/*" required multiple>
                            </div>
                            <!-- 뱃지 이미지 업로드 -->
                            <div class="upload d-flex flex-column align-items-center col-3">
                                <div class="position-relative">
                                    <div class="box-container"
                                         style="clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);">
                                        <div class="d-flex justify-content-center align-items-center"
                                             style="width: 100%; height: 150px; border: 1px solid #E6E6E6; color: #E6E6E6;"
                                             id="badgeImgFile2">
                                            <b>뱃지를 등록해 주세요.</b>
                                        </div>
                                    </div>
                                </div>
                                <input type="file" id="badgeImgFile" name="badgeImgFile"
                                       class="real-upload mx-auto d-block mt-2" accept="image/*" required multiple>
                            </div>
                        </div>
                        <!-- 이미지 업로드 끝 -->
                    </div>
                    <script>
                        $(document).ready(function () {
                            $('#backgroundImgFile').change(function (event) {
                                if (this.files && this.files[0]) {
                                    var reader = new FileReader();
                                    reader.onload = function (e) {
                                        $('#backgroundImgFile2').html('<img src="' + e.target.result + '" style="width: 100%; height: 100%">');
                                    };
                                    reader.readAsDataURL(this.files[0]);
                                    let fileName = this.files[0].name;
                                    console.log(fileName);
                                }
                            });

                            $('#badgeImgFile').change(function (event) {
                                if (this.files && this.files[0]) {
                                    var reader = new FileReader();
                                    reader.onload = function (e) {
                                        $('#badgeImgFile2').html('<img src="' + e.target.result + '" style="width: 100%; height: 100%">');
                                    };
                                    reader.readAsDataURL(this.files[0]);
                                }
                            });
                        });
                    </script>
                    <label for="name"><b>챌린지 명</b></label>
                    <input value="{{challenge.challengeName}}" class="form-control" type="text" name="challengeName" id="challengeName" required>
                    <div class="mt-4">
                        <label for="meter"><b>부 제목</b></label>
                        <input value="{{challenge.subTitle}}" class="form-control" type="text" name="subTitle" id="subTitle" required>
                    </div>
                    <div class="mt-4">
                        <label for="location"><b>걸어야할 걸음 수(정수)</b></label>
                        <input value="{{challenge.walking}}" class="form-control" type="text" name="walking" id="walking" required>
                    </div>
                    <div class="mt-4">
                        <label for="location"><b>총 거리</b></label>
                        <input value="{{challenge.distance}}" class="form-control" type="text" name="distance" id="distance" required>
                    </div>
                    <div class="mt-4">
                        <label for="location"><b>보상 코인(정수)</b></label>
                        <input value="{{challenge.coin}}" class="form-control" type="text" name="coin" id="coin" required>
                    </div>
                    <div class="mt-4">
                        <label for="location"><b>챌린지 기간(정수)</b></label>
                        <input value="30" class="form-control" type="text" name="period" id="period" required>
                    </div>
                    <div class="mt-4">
                        <label for="content"><b>챌린지 내용</b></label>
                        <div class="border border-tertiary p-3 d-inline-flex me-3 mb-3 w-100">
                            <input value="{{challenge.content}}" class="form-control border-0" id="content" type="text" name="content"
                                   required>
                        </div>
                    </div>
                    <div class="d-flex justify-content-center">
                        <button type="submit" class="btn btn-outline-danger mb-3" style="width: 100px">등록하기</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>